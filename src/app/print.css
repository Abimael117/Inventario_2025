@media print {
  /* Oculta todo por defecto */
  body * {
    visibility: hidden;
  }

  /*
    Hace visible solo el contenedor del recibo de préstamo y sus hijos.
    Esto funciona porque el diálogo de ShadCN se renderiza en un portal.
    Apuntamos directamente al contenido del diálogo.
  */
  .loan-receipt-printable-area, .loan-receipt-printable-area * {
    visibility: visible;
  }
  
  .report-printable-area, .report-printable-area * {
    visibility: visible;
  }

  /*
    Asegura que el contenedor del recibo ocupe toda la página de impresión.
    Lo posicionamos en la esquina superior izquierda de la página.
  */
  .loan-receipt-printable-area {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    border: none;
    box-shadow: none;
    background: white; /* Asegura fondo blanco */
  }

  .report-printable-area {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 1rem;
    border: none !important;
    background: white !important;
    color: black !important;
    box-shadow: none;
  }

  /* Oculta los elementos que no queremos imprimir dentro del diálogo */
  .loan-receipt-printable-area .print-hide-in-dialog {
    display: none;
  }

  /* Oculta el botón de cerrar en el diálogo al imprimir */
  .loan-receipt-printable-area button[aria-label="Close"] {
    display: none;
  }
}

.print-hide {
  display: revert;
}

@media print {
  .print-hide {
    display: none;
  }
}
